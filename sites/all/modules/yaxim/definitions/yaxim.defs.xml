<?xml version="1.0" encoding="UTF-8"?>
<!-- 
 *   Correspondence table between XML input data ("name") and Drupal structure ("content_type").
 *	 Refer to ./yaxim.input.xsd file for XML Input Content structure
 *	 Refer to Drupal for Content types structure and Taxonomy
 -->
<definitions>
	<definition type="list" name="Packages" def="Package">
		<title>Packages</title>
	</definition>

	
	<!-- Packages -->
	<definition type="node" name="Package" dbkey="ExternalReference" content_type="packagetype">
		<title>Generic Package</title>
		<fields>
			<field type="field" name="PackageTitle" content_type="title" />
			<field type="field" name="Language" content_type="language" />
			<field type="field time" name="CreationDate" content_type="created" />
			<field type="field time" name="LastUpdateDate" content_type="changed" />
			<field type="field ccktime" name="EmbargoDate" list="true" content_type="field_embargo_date" />
			<field type="field comment" name="CommentsAllowed" content_type="comment" />
			<field type="field" name="ExternalReference" list="true" array="value" content_type="field_external_ref" />
			<field type="def"   name="Destinations" def="Destinations" content_type="field_destination" />
		</fields>
	</definition>

	<definition type="extend" name="ArticlePackageType" base="Package" content_type="articlepackagetype">
		<title>Article Package</title>
		<fields>
			<field type="node"  name="MainStory" def="TextObjectType" content_type="field_main_story" />
			<field type="fields" name="EmbeddedContent" def="EmbeddedContent" />
		</fields>
	</definition>


	<!-- Objects -->
	<definition type="node" name="Object" dbkey="ExternalReference" content_type="objecttype">
		<title>Generic Object</title>
		<fields>
			<field type="field" name="Title" content_type="title" />
			<field type="field" name="ExternalReference" list="true" array="value" content_type="field_external_ref" />
			<field type="def"   name="Locations" def="LocationList" content_type="field_location" />
		</fields>
	</definition>

	<definition type="extend" name="TextObjectType" base="Object" content_type="textobjecttype">
		<title>Text Object</title>
		<fields>
			<field type="field" name="DocumentType" list="true" array="value" content_type="field_document_type" />
		</fields>
	</definition>

	<definition type="extend" name="MMediaObjectType" base="Object" content_type="photoobjecttype">
		<title>Photo Object</title>
		<fields>
			<field type="field" name="Summary" content_type="body" />
		</fields>
	</definition>

	<definition type="extend" name="PhotoObjectType" base="MMediaObjectType" content_type="photoobjecttype">
		<title>Photo Object</title>
		<fields>
			<field type="file_image" name="FileURI" content_type="field_photo" />
			<field type="field" name="Caption" list="true" array="value" content_type="field_caption" />
		</fields>
	</definition>


	<!-- Miscellaneous -->
	<definition type="fields" name="EmbeddedContent">
		<title>Embedded Content</title>
		<fields>
			<field type="def"   name="EmbeddedObjects" def="EmbeddedObjects" content_type="field_embedded_obj" />
			<field type="def"   name="LinksLists" def="LinksLists" content_type="field_links_list" />
		</fields>
	</definition>

	<definition type="list" name="EmbeddedObjects" def="ObjectType">
		<title>Objects or Links</title>
	</definition>
	<definition type="field" name="ObjectType">
		<title>Object or Link</title>
		<fields>
			<field type="node"  name="Object" def="Object" content_type="field_embedded_obj" />
		</fields>
	</definition>

	<definition type="list" name="LinksLists" def="LinksList">
		<title>Links Lists</title>
	</definition>
	<definition type="node" name="LinksList" dbkey="ExternalReference" content_type="linkslisttype">
		<title>Links List</title>
		<fields>
			<field type="field" name="Title" content_type="title" />
			<field type="field" name="Summary" content_type="body" />
			<field type="field" name="ExternalReference" list="true" array="value" content_type="field_external_ref" />
		</fields>
	</definition>

	<definition type="list" name="Destinations" def="Destination" array="value" callback="serialize">
		<title>Destinations</title>
	</definition>
	<definition type="field" name="Destination">
		<title>Product Destination</title>
		<fields>
			<field type="field" name="DestinationPath" array="DestinationPath" />
			<field type="field" name="DestinationID" array="DestinationID" />
		</fields>
	</definition>

	<definition type="list" name="LocationsList" def="LocationItem" array="nid">
		<title>Locations List</title>
	</definition>
	<definition type="node" name="LocationItem" dbkey="LocationID" content_type="locationitem">
		<title>Location Item</title>
		<fields>
			<field type="field" name="LocationName" content_type="title" />
			<field type="field location" name="Address" list="true" content_type="field_address" />
			<field type="taxonomy" name="LocationID" vocabulary="taxonomy_location" list="true" content_type="taxonomy" />
		</fields>
	</definition>

</definitions> 